
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module ThumbJIT1proof</title>
<meta name="description" content="Documentation of Coq module ThumbJIT1proof" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module ThumbJIT1proof</h1>
<div class="coq">
<span class="kwd">From</span> <span class="id">compcert</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html">Integers</a></span>.<br/>
<span class="kwd">From</span> <span class="id">compcert.arm</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="https://compcert.org/doc/html/compcert.arm.AsmSyntax.html">AsmSyntax</a></span> <span class="id"><a href="https://compcert.org/doc/html/compcert.arm.BinSyntax.html">BinSyntax</a></span> <span class="id"><a href="https://compcert.org/doc/html/compcert.arm.BinDecode.html">BinDecode</a></span>.<br/>
<br/>
<span class="kwd">From</span> <span class="id">bpf.comm</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="bpf.comm.Flag.html">Flag</a></span> <span class="id"><a href="bpf.comm.BinrBPF.html">BinrBPF</a></span> <span class="id"><a href="bpf.comm.ListAsArray.html">ListAsArray</a></span> <span class="id"><a href="bpf.comm.Regs.html">Regs</a></span> <span class="id"><a href="bpf.comm.LemmaInt.html">LemmaInt</a></span>.<br/>
<span class="kwd">From</span> <span class="id">bpf.rbpf32</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html">TSSyntax</a></span> <span class="id"><a href="bpf.rbpf32.TSDecode.html">TSDecode</a></span> <span class="id"><a href="bpf.rbpf32.JITConfig.html">JITConfig</a></span>.<br/>
<span class="kwd">From</span> <span class="id">bpf.jit</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="bpf.jit.Arm32Reg.html">Arm32Reg</a></span> <span class="id"><a href="bpf.jit.ThumbInsOp.html">ThumbInsOp</a></span> <span class="id"><a href="bpf.jit.ListSetRefinement.html">ListSetRefinement</a></span> <span class="id"><a href="bpf.jit.ThumbJIT.html">ThumbJIT</a></span> <span class="id"><a href="bpf.jit.ThumbJIT1.html">ThumbJIT1</a></span> <span class="id"><a href="bpf.jit.ThumbJITLtac.html">ThumbJITLtac</a></span> <span class="id"><a href="bpf.jit.ListSetSort.html">ListSetSort</a></span>.<br/>
<br/>
<span class="kwd">From</span> <span class="id">Coq</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html">List</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.ZArith.html">ZArith</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.Arith.html">Arith</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html">String</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.ListSet.html">ListSet</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.micromega.Lia.html">Lia</a></span>.<br/>
<span class="kwd">Import</span> <span class="id">ListNotations</span>.<br/>
<span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">Z_scope</span>.<br/>
<span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">bool_scope</span>.<br/>
<span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">asm</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="eq_set_map">eq_set_map</a></span> (<span class="id">l</span>: <span class="id"><a href="bpf.rbpf32.TSSyntax.html#listset">listset</a></span>) (<span class="id">lr</span>: <span class="id"><a href="bpf.jit.ListSetRefinement.html#listset_regmap">listset_regmap</a></span>): <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">r</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">List.In</a></span> <span class="id">r</span> <span class="id">l</span> &lt;-&gt; <span class="id"><a href="bpf.jit.ListSetRefinement.html#eval_listset_regmap">eval_listset_regmap</a></span> <span class="id">r</span> <span class="id">lr</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eq_set_map_sort_list_same">eq_set_map_sort_list_same</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l</span> <span class="id">lr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Hst</span>: <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#eq_set_map">eq_set_map</a></span> <span class="id">l</span> <span class="id">lr</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="bpf.jit.ThumbJIT1proof.html#eq_set_map">eq_set_map</a></span> (<span class="id"><a href="bpf.jit.ListSetSort.html#sort_listset">sort_listset</a></span> <span class="id">l</span>) <span class="id">lr</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</div>
<div class="proofscript" id="proof1">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#eq_set_map">eq_set_map</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intro</span> <span class="id">HF</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id">Hst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="bpf.jit.ListSetSort.html#In_sort_listset_intro1">In_sort_listset_intro1</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="bpf.jit.ListSetSort.html#In_sort_listset_intro2">In_sort_listset_intro2</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Hst</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="add_eq_set_map">add_eq_set_map</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l</span> <span class="id">r</span> <span class="id">lr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Hst</span>: <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#eq_set_map">eq_set_map</a></span> <span class="id">l</span> <span class="id">lr</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.ListSet.html#set_mem">set_mem</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#breg_eq">breg_eq</a></span> <span class="id">r</span> <span class="id">l</span> = <span class="id"><a href="bpf.jit.ListSetRefinement.html#eval_listset_regmap">eval_listset_regmap</a></span> <span class="id">r</span> <span class="id">lr</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</div>
<div class="proofscript" id="proof2">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#eq_set_map">eq_set_map</a></span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">Hst</span> <span class="id">r</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="bpf.jit.ListSetRefinement.html#eval_listset_regmap">eval_listset_regmap</a></span>).<br/>
&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.ListSet.html#set_mem_correct2">set_mem_correct2</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.ListSet.html#set_In">set_In</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Hst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.ListSet.html#set_mem_complete2">set_mem_complete2</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.ListSet.html#set_In">set_In</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hst</span> <span class="kwd">as</span> (<span class="id">Hst</span> &amp; <span class="id">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">Hst</span> <span class="id">HF</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">Hst</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ireg_of_breg_int_eq">ireg_of_breg_int_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">r</span>, <span class="id"><a href="bpf.rbpf32.TSSyntax.html#int_of_breg">int_of_breg</a></span> <span class="id">r</span> = <span class="id"><a href="bpf.jit.Arm32Reg.html#int_of_ireg">int_of_ireg</a></span> (<span class="id"><a href="bpf.jit.Arm32Reg.html#ireg_of_breg">ireg_of_breg</a></span> <span class="id">r</span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</div>
<div class="proofscript" id="proof3">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#int_of_breg">int_of_breg</a></span>, <span class="id"><a href="bpf.jit.Arm32Reg.html#int_of_ireg">int_of_ireg</a></span>; <span class="tactic">destruct</span> <span class="id">r</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>; <span class="tactic">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="breg_not_in_rbpf_arm_callee_save">breg_not_in_rbpf_arm_callee_save</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">r</span>, ~ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.ListSet.html#set_In">set_In</a></span> <span class="id">r</span> <span class="id"><a href="bpf.rbpf32.JITConfig.html#rbpf_arm_callee_save">rbpf_arm_callee_save</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">r</span> [<span class="id"><a href="bpf.rbpf32.TSSyntax.html#R0">R0</a></span>; <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R1">R1</a></span>; <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R2">R2</a></span>; <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R3">R3</a></span>].<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</div>
<div class="proofscript" id="proof4">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.ListSet.html#set_In">set_In</a></span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">r</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">left</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">right</span>; <span class="tactic">left</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">do</span> 2 <span class="tactic">right</span>; <span class="tactic">left</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">do</span> 3 <span class="tactic">right</span>; <span class="tactic">left</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id">exfalso</span>; <span class="tactic">apply</span> <span class="id">H</span>; <span class="tactic">left</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id">exfalso</span>; <span class="tactic">apply</span> <span class="id">H</span>; <span class="tactic">right</span>; <span class="tactic">left</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id">exfalso</span>; <span class="tactic">apply</span> <span class="id">H</span>; <span class="tactic">do</span> 2 <span class="tactic">right</span>; <span class="tactic">left</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id">exfalso</span>; <span class="tactic">apply</span> <span class="id">H</span>; <span class="tactic">do</span> 3 <span class="tactic">right</span>; <span class="tactic">left</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id">exfalso</span>; <span class="tactic">apply</span> <span class="id">H</span>; <span class="tactic">do</span> 4 <span class="tactic">right</span>; <span class="tactic">left</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id">exfalso</span>; <span class="tactic">apply</span> <span class="id">H</span>; <span class="tactic">do</span> 5 <span class="tactic">right</span>; <span class="tactic">left</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id">exfalso</span>; <span class="tactic">apply</span> <span class="id">H</span>; <span class="tactic">do</span> 6 <span class="tactic">right</span>; <span class="tactic">left</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="rbpf_arm_callee_save_range">rbpf_arm_callee_save_range</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">r</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.ListSet.html#set_mem">set_mem</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#breg_eq">breg_eq</a></span> <span class="id">r</span> <span class="id"><a href="bpf.rbpf32.JITConfig.html#rbpf_arm_callee_save">rbpf_arm_callee_save</a></span> =<br/>
&nbsp;&nbsp;<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 3) (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#int_of_breg">int_of_breg</a></span> <span class="id">r</span>) &amp;&amp; <span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#int_of_breg">int_of_breg</a></span> <span class="id">r</span>) (<span class="id"><a href="bpf.jit.Arm32Reg.html#int_of_ireg">int_of_ireg</a></span> <span class="id"><a href="https://compcert.org/doc/html/compcert.arm.AsmSyntax.html#IR12">IR12</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</div>
<div class="proofscript" id="proof5">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#ireg_of_breg_int_eq">ireg_of_breg_int_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.ListSet.html#set_mem">set_mem</a></span> <span class="id">eqn</span>: <span class="id">Hset_mem</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_iff">Bool.andb_true_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> ! <span class="id"><a href="bpf.comm.LemmaInt.html#Clt_Zlt_unsigned">Clt_Zlt_unsigned</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 3)) <span class="kwd">with</span> 3%<span class="id">Z</span> <span class="tactic">by</span> <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="bpf.jit.Arm32Reg.html#int_of_ireg">int_of_ireg</a></span> <span class="id"><a href="https://compcert.org/doc/html/compcert.arm.AsmSyntax.html#IR12">IR12</a></span>)) <span class="kwd">with</span> 12%<span class="id">Z</span> <span class="tactic">by</span> <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.ListSet.html#set_mem_correct1">set_mem_correct1</a></span> <span class="kwd">in</span> <span class="id">Hset_mem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.ListSet.html#set_In">set_In</a></span> <span class="kwd">in</span> <span class="id">Hset_mem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hset_mem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.Arm32Reg.html#int_of_ireg">int_of_ireg</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> (<span class="tactic">destruct</span> <span class="id">Hset_mem</span> <span class="kwd">as</span> [<span class="id">Hset_mem</span> | <span class="id">Hset_mem</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="tactic">rewrite</span> &lt;- <span class="id">Hset_mem</span>; <span class="tactic">simpl</span>; <span class="id">prove_int</span>|]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">Hset_mem</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.ListSet.html#set_mem_complete1">set_mem_complete1</a></span> <span class="kwd">in</span> <span class="id">Hset_mem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#breg_not_in_rbpf_arm_callee_save">breg_not_in_rbpf_arm_callee_save</a></span> <span class="kwd">in</span> <span class="id">Hset_mem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hset_mem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_false_iff">Bool.andb_false_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#negb_true_iff">Bool.negb_true_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="bpf.comm.LemmaInt.html#Cle_Zle_unsigned">Cle_Zle_unsigned</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 3)) <span class="kwd">with</span> 3%<span class="id">Z</span> <span class="tactic">by</span> <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.Arm32Reg.html#int_of_ireg">int_of_ireg</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> (<span class="tactic">destruct</span> <span class="id">Hset_mem</span> <span class="kwd">as</span> [<span class="id">Hset_mem</span> | <span class="id">Hset_mem</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="tactic">rewrite</span> &lt;- <span class="id">Hset_mem</span>; <span class="tactic">simpl</span>; <span class="id">prove_int</span>|]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">Hset_mem</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="jit_call_save_add_refine_eq">jit_call_save_add_refine_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l</span> <span class="id">lr</span> <span class="id">r</span> <span class="id">bl</span><br/>
&nbsp;&nbsp;(<span class="id">Hst</span>: <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#eq_set_map">eq_set_map</a></span> <span class="id">l</span> <span class="id">lr</span>)<br/>
&nbsp;&nbsp;(<span class="id">Hjit</span>: <span class="id"><a href="bpf.jit.ThumbJIT.html#jit_call_save_add">jit_call_save_add</a></span> <span class="id">r</span> <span class="id">l</span> = <span class="id">bl</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_call_save_add_refine">jit_call_save_add_refine</a></span> <span class="id">r</span> <span class="id">lr</span> = <span class="id">bl</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</div>
<div class="proofscript" id="proof6">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT.html#jit_call_save_add">jit_call_save_add</a></span>, <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_call_save_add_refine">jit_call_save_add_refine</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#add_eq_set_map">add_eq_set_map</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.ListSet.html#set_mem">set_mem</a></span> <span class="id">eqn</span>: <span class="id">Hset_mem</span>; [<span class="tactic">assumption</span> |].<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#rbpf_arm_callee_save_range">rbpf_arm_callee_save_range</a></span>. <span class="tactic">assumption</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="set_add_refine_eq">set_add_refine_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l</span> <span class="id">lr</span> <span class="id">dst</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="bpf.jit.ThumbJIT1proof.html#eq_set_map">eq_set_map</a></span> <span class="id">l</span> <span class="id">lr</span> -&gt; <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#eq_set_map">eq_set_map</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.ListSet.html#set_add">set_add</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#breg_eq">breg_eq</a></span> <span class="id">dst</span> <span class="id">l</span>) (<span class="id"><a href="bpf.jit.ListSetRefinement.html#listset_add_regmap">listset_add_regmap</a></span> <span class="id">dst</span> <span class="id">lr</span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</div>
<div class="proofscript" id="proof7">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#eq_set_map">eq_set_map</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">H</span> <span class="id">r</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> (<span class="id">HL</span> &amp; <span class="id">HR</span>).<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#breg_eq">breg_eq</a></span> <span class="id">r</span> <span class="id">dst</span>) <span class="kwd">as</span> [<span class="id">Hr_eq</span> | <span class="id">Hr_neq</span>].<br/>
&nbsp;&nbsp;- <span class="tactic">subst</span> <span class="id">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intro</span> <span class="id">HT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="bpf.jit.ListSetRefinement.html#eval_upd_listset_regmap">eval_upd_listset_regmap</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.ListSet.html#set_add_intro2">set_add_intro2</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">split</span>; <span class="tactic">intro</span> <span class="id">HT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ListSetRefinement.html#eval_upd_listset_regmap_other">eval_upd_listset_regmap_other</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">HL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.ListSet.html#set_add_elim">set_add_elim</a></span> <span class="kwd">in</span> <span class="id">HT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">HT</span> <span class="kwd">as</span> [<span class="id">HF</span> | <span class="id">HT</span>]; [<span class="id">exfalso</span>; <span class="tactic">apply</span> <span class="id">Hr_neq</span>; <span class="tactic">auto</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.ListSet.html#set_In">set_In</a></span> <span class="kwd">in</span> <span class="id">HT</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ListSetRefinement.html#eval_upd_listset_regmap_other">eval_upd_listset_regmap_other</a></span> <span class="kwd">in</span> <span class="id">HT</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">HR</span> <span class="id">HT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.ListSet.html#set_add_intro1">set_add_intro1</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="jit_call_save_reg_refine_eq">jit_call_save_reg_refine_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ld_set1</span> <span class="id">lr_ld1</span> <span class="id">st_set1</span> <span class="id">lr_st1</span> <span class="id">dst</span> <span class="id">src</span> <span class="id">bl</span> <span class="id">ld_set2</span> <span class="id">st_set2</span><br/>
&nbsp;&nbsp;(<span class="id">Hnodup1</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> <span class="id">ld_set1</span>)<br/>
&nbsp;&nbsp;(<span class="id">Hnodup2</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> <span class="id">st_set1</span>)<br/>
&nbsp;&nbsp;(<span class="id">Hst1</span>: <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#eq_set_map">eq_set_map</a></span> <span class="id">ld_set1</span> <span class="id">lr_ld1</span>)<br/>
&nbsp;&nbsp;(<span class="id">Hst2</span>: <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#eq_set_map">eq_set_map</a></span> <span class="id">st_set1</span> <span class="id">lr_st1</span>)<br/>
&nbsp;&nbsp;(<span class="id">Hjit</span>: <span class="id"><a href="bpf.jit.ThumbJIT.html#jit_call_save_reg">jit_call_save_reg</a></span> <span class="id">dst</span> <span class="id">src</span> <span class="id">ld_set1</span> <span class="id">st_set1</span> = (<span class="id">bl</span>, <span class="id">ld_set2</span>, <span class="id">st_set2</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">lr_ld2</span> <span class="id">lr_st2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_call_save_reg_refine">jit_call_save_reg_refine</a></span> <span class="id">dst</span> <span class="id">src</span> <span class="id">lr_ld1</span> <span class="id">lr_st1</span> = (<span class="id">bl</span>, <span class="id">lr_ld2</span>, <span class="id">lr_st2</span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="bpf.jit.ThumbJIT1proof.html#eq_set_map">eq_set_map</a></span> <span class="id">ld_set2</span> <span class="id">lr_ld2</span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="bpf.jit.ThumbJIT1proof.html#eq_set_map">eq_set_map</a></span> <span class="id">st_set2</span> <span class="id">lr_st2</span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> <span class="id">ld_set2</span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> <span class="id">st_set2</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</div>
<div class="proofscript" id="proof8">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT.html#jit_call_save_reg">jit_call_save_reg</a></span>, <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_call_save_reg_refine">jit_call_save_reg_refine</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_call_save_add_refine_eq">jit_call_save_add_refine_eq</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#set_add_refine_eq">set_add_refine_eq</a></span> <span class="kwd">with</span> (<span class="id">dst</span> := <span class="id">dst</span>) <span class="kwd">in</span> <span class="id">Hst1</span> <span class="kwd">as</span> <span class="id">Hst3</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_call_save_add_refine_eq">jit_call_save_add_refine_eq</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">injection</span> <span class="id">Hjit</span> <span class="kwd">as</span> <span class="id">Hbl_eq</span> <span class="id">Hld2_eq</span> <span class="id">Hst2_eq</span>.<br/>
&nbsp;&nbsp;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eexists</span>; <span class="tactic">eexists</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>; [<span class="tactic">apply</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#set_add_refine_eq">set_add_refine_eq</a></span>; <span class="tactic">auto</span> | ].<br/>
&nbsp;&nbsp;<span class="tactic">split</span>; [<span class="tactic">apply</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#set_add_refine_eq">set_add_refine_eq</a></span>; <span class="tactic">auto</span> | ].<br/>
&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">repeat</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.ListSet.html#set_add_nodup">set_add_nodup</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="jit_call_save_imm_refine_eq">jit_call_save_imm_refine_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ld_set1</span> <span class="id">lr_ld1</span> <span class="id">st_set1</span> <span class="id">lr_st1</span> <span class="id">dst</span> <span class="id">bl</span> <span class="id">ld_set2</span> <span class="id">st_set2</span><br/>
&nbsp;&nbsp;(<span class="id">Hnodup1</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> <span class="id">ld_set1</span>)<br/>
&nbsp;&nbsp;(<span class="id">Hnodup2</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> <span class="id">st_set1</span>)<br/>
&nbsp;&nbsp;(<span class="id">Hst1</span>: <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#eq_set_map">eq_set_map</a></span> <span class="id">ld_set1</span> <span class="id">lr_ld1</span>)<br/>
&nbsp;&nbsp;(<span class="id">Hst2</span>: <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#eq_set_map">eq_set_map</a></span> <span class="id">st_set1</span> <span class="id">lr_st1</span>)<br/>
&nbsp;&nbsp;(<span class="id">Hjit</span>: <span class="id"><a href="bpf.jit.ThumbJIT.html#jit_call_save_imm">jit_call_save_imm</a></span> <span class="id">dst</span> <span class="id">ld_set1</span> <span class="id">st_set1</span> = (<span class="id">bl</span>, <span class="id">ld_set2</span>, <span class="id">st_set2</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">lr_ld2</span> <span class="id">lr_st2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_call_save_imm_refine">jit_call_save_imm_refine</a></span> <span class="id">dst</span> <span class="id">lr_ld1</span> <span class="id">lr_st1</span> = (<span class="id">bl</span>, <span class="id">lr_ld2</span>, <span class="id">lr_st2</span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="bpf.jit.ThumbJIT1proof.html#eq_set_map">eq_set_map</a></span> <span class="id">ld_set2</span> <span class="id">lr_ld2</span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="bpf.jit.ThumbJIT1proof.html#eq_set_map">eq_set_map</a></span> <span class="id">st_set2</span> <span class="id">lr_st2</span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> <span class="id">ld_set2</span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> <span class="id">st_set2</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</div>
<div class="proofscript" id="proof9">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT.html#jit_call_save_imm">jit_call_save_imm</a></span>, <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_call_save_imm_refine">jit_call_save_imm_refine</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_call_save_add_refine_eq">jit_call_save_add_refine_eq</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">injection</span> <span class="id">Hjit</span> <span class="kwd">as</span> <span class="id">Hbl_eq</span> <span class="id">Hld2_eq</span> <span class="id">Hst2_eq</span>.<br/>
&nbsp;&nbsp;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eexists</span>; <span class="tactic">eexists</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>; [<span class="tactic">apply</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#set_add_refine_eq">set_add_refine_eq</a></span>; <span class="tactic">auto</span> | ].<br/>
&nbsp;&nbsp;<span class="tactic">split</span>; [<span class="tactic">apply</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#set_add_refine_eq">set_add_refine_eq</a></span>; <span class="tactic">auto</span> | ].<br/>
&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">repeat</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.ListSet.html#set_add_nodup">set_add_nodup</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="jit_one_refine_eq">jit_one_refine_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ld_set1</span> <span class="id">lr_ld1</span> <span class="id">st_set1</span> <span class="id">lr_st1</span> <span class="id">op</span> <span class="id">dst</span> <span class="id">src</span> <span class="id">bl</span> <span class="id">ld_set2</span> <span class="id">st_set2</span><br/>
&nbsp;&nbsp;(<span class="id">Hnodup1</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> <span class="id">ld_set1</span>)<br/>
&nbsp;&nbsp;(<span class="id">Hnodup2</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> <span class="id">st_set1</span>)<br/>
&nbsp;&nbsp;(<span class="id">Hst1</span>: <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#eq_set_map">eq_set_map</a></span> <span class="id">ld_set1</span> <span class="id">lr_ld1</span>)<br/>
&nbsp;&nbsp;(<span class="id">Hst2</span>: <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#eq_set_map">eq_set_map</a></span> <span class="id">st_set1</span> <span class="id">lr_st1</span>)<br/>
&nbsp;&nbsp;(<span class="id">Hjit</span>: <span class="id"><a href="bpf.jit.ThumbJIT.html#jit_one">jit_one</a></span> <span class="id">op</span> <span class="id">dst</span> <span class="id">src</span> <span class="id">ld_set1</span> <span class="id">st_set1</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">bl</span>, <span class="id">ld_set2</span>, <span class="id">st_set2</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">lr_ld2</span> <span class="id">lr_st2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_one_refine">jit_one_refine</a></span> <span class="id">op</span> <span class="id">dst</span> <span class="id">src</span> <span class="id">lr_ld1</span> <span class="id">lr_st1</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">bl</span>, <span class="id">lr_ld2</span>, <span class="id">lr_st2</span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="bpf.jit.ThumbJIT1proof.html#eq_set_map">eq_set_map</a></span> <span class="id">ld_set2</span> <span class="id">lr_ld2</span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="bpf.jit.ThumbJIT1proof.html#eq_set_map">eq_set_map</a></span> <span class="id">st_set2</span> <span class="id">lr_st2</span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> <span class="id">ld_set2</span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> <span class="id">st_set2</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</div>
<div class="proofscript" id="proof10">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT.html#jit_one">jit_one</a></span>, <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_one_refine">jit_one_refine</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">src</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id"><a href="bpf.jit.ThumbJIT.html#jit_call_save_reg">jit_call_save_reg</a></span> <span class="kwd">as</span> ((<span class="id">l1</span> &amp; <span class="id">ld_set1_1</span>) &amp; <span class="id">st_set1_1</span>) <span class="id">eqn</span>: <span class="id">Hreg_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_call_save_reg_refine">jit_call_save_reg_refine</a></span> <span class="kwd">as</span> ((<span class="id">lr1</span> &amp; <span class="id">lr_ld1_1</span>) &amp; <span class="id">lr_st1_1</span>) <span class="id">eqn</span>: <span class="id">Hreg_eq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="bpf.jit.ThumbJIT.html#bpf_alu32_to_thumb_reg">bpf_alu32_to_thumb_reg</a></span> <span class="kwd">as</span> [<span class="id">l2</span> |] <span class="id">eqn</span>: <span class="id">Hreg</span>; [| <span class="tactic">inversion</span> <span class="id">Hjit</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">Hjit</span>; <span class="tactic">subst</span>; <span class="tactic">clear</span> <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_call_save_reg_refine_eq">jit_call_save_reg_refine_eq</a></span> <span class="kwd">in</span> <span class="id">Hreg_eq</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hreg_eq</span> <span class="kwd">as</span> (<span class="id">lr_ld2</span> &amp; <span class="id">lr_st2</span> &amp; <span class="id">Hreg_eq</span> &amp; <span class="id">Heq1</span> &amp; <span class="id">Heq2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hreg_eq1</span> <span class="kwd">in</span> <span class="id">Hreg_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">Hreg_eq</span>; <span class="tactic">subst</span>; <span class="tactic">clear</span> <span class="id">Hreg_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eexists</span>; <span class="tactic">eexists</span>. <span class="tactic">split</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id"><a href="bpf.jit.ThumbJIT.html#jit_call_save_imm">jit_call_save_imm</a></span> <span class="kwd">as</span> ((<span class="id">l1</span> &amp; <span class="id">ld_set1_1</span>) &amp; <span class="id">st_set1_1</span>) <span class="id">eqn</span>: <span class="id">Hreg_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_call_save_imm_refine">jit_call_save_imm_refine</a></span> <span class="kwd">as</span> ((<span class="id">lr1</span> &amp; <span class="id">lr_ld1_1</span>) &amp; <span class="id">lr_st1_1</span>) <span class="id">eqn</span>: <span class="id">Hreg_eq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="bpf.jit.ThumbJIT.html#bpf_alu32_to_thumb_imm">bpf_alu32_to_thumb_imm</a></span> <span class="kwd">as</span> [<span class="id">l2</span> |] <span class="id">eqn</span>: <span class="id">Hreg</span>; [| <span class="tactic">inversion</span> <span class="id">Hjit</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">Hjit</span>; <span class="tactic">subst</span>; <span class="tactic">clear</span> <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_call_save_imm_refine_eq">jit_call_save_imm_refine_eq</a></span> <span class="kwd">in</span> <span class="id">Hreg_eq</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hreg_eq</span> <span class="kwd">as</span> (<span class="id">lr_ld2</span> &amp; <span class="id">lr_st2</span> &amp; <span class="id">Hreg_eq</span> &amp; <span class="id">Heq1</span> &amp; <span class="id">Heq2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hreg_eq1</span> <span class="kwd">in</span> <span class="id">Hreg_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">Hreg_eq</span>; <span class="tactic">subst</span>; <span class="tactic">clear</span> <span class="id">Hreg_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eexists</span>; <span class="tactic">eexists</span>. <span class="tactic">split</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="jit_sequence_refine_eq">jit_sequence_refine_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l</span> <span class="id">ld_set1</span> <span class="id">lr_ld1</span> <span class="id">st_set1</span> <span class="id">lr_st1</span> <span class="id">bl</span> <span class="id">ld_set2</span> <span class="id">st_set2</span><br/>
&nbsp;&nbsp;(<span class="id">Hnodup1</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> <span class="id">ld_set1</span>)<br/>
&nbsp;&nbsp;(<span class="id">Hnodup2</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> <span class="id">st_set1</span>)<br/>
&nbsp;&nbsp;(<span class="id">Hst1</span>: <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#eq_set_map">eq_set_map</a></span> <span class="id">ld_set1</span> <span class="id">lr_ld1</span>)<br/>
&nbsp;&nbsp;(<span class="id">Hst2</span>: <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#eq_set_map">eq_set_map</a></span> <span class="id">st_set1</span> <span class="id">lr_st1</span>)<br/>
&nbsp;&nbsp;(<span class="id">Hjit</span>: <span class="id"><a href="bpf.jit.ThumbJIT.html#jit_sequence">jit_sequence</a></span> <span class="id">l</span> <span class="id">ld_set1</span> <span class="id">st_set1</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">bl</span>, <span class="id">ld_set2</span>, <span class="id">st_set2</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exists</span> <span class="id">lr_ld2</span> <span class="id">lr_st2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_sequence_refine">jit_sequence_refine</a></span> <span class="id">l</span> <span class="id">lr_ld1</span> <span class="id">lr_st1</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">bl</span>, <span class="id">lr_ld2</span>, <span class="id">lr_st2</span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="bpf.jit.ThumbJIT1proof.html#eq_set_map">eq_set_map</a></span> <span class="id">ld_set2</span> <span class="id">lr_ld2</span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="bpf.jit.ThumbJIT1proof.html#eq_set_map">eq_set_map</a></span> <span class="id">st_set2</span> <span class="id">lr_st2</span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> <span class="id">ld_set2</span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> <span class="id">st_set2</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</div>
<div class="proofscript" id="proof11">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">l</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;{ <span class="tactic">inversion</span> <span class="id">Hjit</span>; <span class="tactic">subst</span>; <span class="tactic">clear</span> <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eexists</span>; <span class="tactic">eexists</span>; <span class="tactic">split</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">inversion</span> <span class="id">Hjit</span>. <span class="tactic">clear</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rename</span> <span class="id">a</span> <span class="id">into</span> <span class="id">op</span>; <span class="tactic">rename</span> <span class="id">b</span> <span class="id">into</span> <span class="id">dst</span>; <span class="tactic">rename</span> <span class="id">s</span> <span class="id">into</span> <span class="id">src</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="bpf.jit.ThumbJIT.html#jit_one">jit_one</a></span> <span class="kwd">as</span> [((<span class="id">l1</span> &amp; <span class="id">ld_set1_1</span>) &amp; <span class="id">st_set1_1</span>) |] <span class="id">eqn</span>: <span class="id">Hone</span>; [| <span class="tactic">inversion</span> <span class="id">Hjit</span>].<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="bpf.jit.ThumbJIT.html#jit_sequence">jit_sequence</a></span> <span class="kwd">as</span> [((<span class="id">l2</span> &amp; <span class="id">ld_set2_1</span>) &amp; <span class="id">st_set2_1</span>) |] <span class="id">eqn</span>: <span class="id">Hseq</span>; [| <span class="tactic">inversion</span> <span class="id">Hjit</span>].<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_one_refine_eq">jit_one_refine_eq</a></span> <span class="kwd">in</span> <span class="id">Hone</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hone</span> <span class="kwd">as</span> (<span class="id">lr_ld2</span> &amp; <span class="id">lr_st2</span> &amp; <span class="id">Hone</span> &amp; <span class="id">Heq1</span> &amp; <span class="id">Heq2</span> &amp; <span class="id">Hno1</span> &amp; <span class="id">Hno2</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hone</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHl</span> <span class="kwd">in</span> <span class="id">Hseq</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hseq</span> <span class="kwd">as</span> (<span class="id">lr_ld3</span> &amp; <span class="id">lr_st3</span> &amp; <span class="id">Hseq</span> &amp; <span class="id">Heq3</span> &amp; <span class="id">Heq4</span> &amp; <span class="id">Hno3</span> &amp; <span class="id">Hno4</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hseq</span>.<br/>
&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">Hjit</span>; <span class="tactic">subst</span>; <span class="tactic">clear</span> <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eexists</span>; <span class="tactic">eexists</span>; <span class="tactic">split</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="jit_alu32_thumb_upd_store_reset_same">jit_alu32_thumb_upd_store_reset_same</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">r</span> <span class="id">lr_st</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_upd_store">jit_alu32_thumb_upd_store</a></span> <span class="id">r</span> (<span class="id"><a href="bpf.jit.ListSetRefinement.html#reset_listset_regmap">reset_listset_regmap</a></span> <span class="id">r</span> <span class="id">lr_st</span>) = [].<br/>
<div class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</div>
<div class="proofscript" id="proof12">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_upd_store">jit_alu32_thumb_upd_store</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ListSetRefinement.html#eval_listset_regmap_reset_listset_regmap_same">eval_listset_regmap_reset_listset_regmap_same</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="jit_alu32_thumb_upd_store_reset_other">jit_alu32_thumb_upd_store_reset_other</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">r</span> <span class="id">r</span>' <span class="id">lr_st</span>,<br/>
&nbsp;&nbsp;<span class="id">r</span> &lt;&gt; <span class="id">r</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_upd_store">jit_alu32_thumb_upd_store</a></span> <span class="id">r</span> (<span class="id"><a href="bpf.jit.ListSetRefinement.html#reset_listset_regmap">reset_listset_regmap</a></span> <span class="id">r</span>' <span class="id">lr_st</span>) = <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_upd_store">jit_alu32_thumb_upd_store</a></span> <span class="id">r</span> <span class="id">lr_st</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</div>
<div class="proofscript" id="proof13">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_upd_store">jit_alu32_thumb_upd_store</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ListSetRefinement.html#eval_listset_regmap_reset_listset_regmap_other">eval_listset_regmap_reset_listset_regmap_other</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="my_app_tail">my_app_tail</a></span>: <span class="kwd">forall</span> [<span class="id">A</span> : <span class="kwd">Type</span>] (<span class="id">l</span> <span class="id">l1</span> <span class="id">l2</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id">A</span>), <span class="id">l1</span> = <span class="id">l2</span> -&gt; <span class="id">l1</span> ++ <span class="id">l</span> = <span class="id">l2</span> ++ <span class="id">l</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</div>
<div class="proofscript" id="proof14">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">l1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="my_app_hd">my_app_hd</a></span>: <span class="kwd">forall</span> [<span class="id">A</span> : <span class="kwd">Type</span>] (<span class="id">l</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id">A</span>) <span class="id">a</span>, <span class="id">a</span> :: <span class="id">l</span> = [<span class="id">a</span>] ++ <span class="id">l</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</div>
<div class="proofscript" id="proof15">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Ltac</span> <span class="id">list_store_solver</span> <span class="id">X</span> <span class="id">lr_st</span> <span class="id">H</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Heq</span>: <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_upd_store">jit_alu32_thumb_upd_store</a></span> <span class="id">X</span> <span class="id">lr_st</span> = []) <span class="tactic">by</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_upd_store">jit_alu32_thumb_upd_store</a></span>; <span class="tactic">rewrite</span> <span class="id">H</span>; <span class="tactic">auto</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heq</span> <span class="kwd">in</span> *; <span class="tactic">clear</span> <span class="id">Heq</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="jit_alu32_thumb_store_refine_reset">jit_alu32_thumb_store_refine_reset</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">lr_st</span> <span class="id">tl</span> <span class="id">bl</span><br/>
&nbsp;&nbsp;(<span class="id">Hlt_a_false</span> : <span class="kwd">forall</span> <span class="id">r</span> : <span class="id"><a href="bpf.rbpf32.TSSyntax.html#breg">breg</a></span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="bpf.rbpf32.TSSyntax.html#z_of_breg">z_of_breg</a></span> <span class="id">a</span> &lt;=? <span class="id"><a href="bpf.rbpf32.TSSyntax.html#z_of_breg">z_of_breg</a></span> <span class="id">r</span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt; <span class="id"><a href="bpf.jit.ListSetRefinement.html#eval_listset_regmap">eval_listset_regmap</a></span> <span class="id">r</span> <span class="id">lr_st</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>)<br/>
&nbsp;&nbsp;(<span class="id">Htl</span>: <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_store_refine">jit_alu32_thumb_store_refine</a></span> (<span class="id"><a href="bpf.jit.ListSetRefinement.html#reset_listset_regmap">reset_listset_regmap</a></span> <span class="id">a</span> <span class="id">lr_st</span>) = <span class="id">tl</span>)<br/>
&nbsp;&nbsp;(<span class="id">Hjit</span> : [<span class="id"><a href="bpf.jit.ThumbJIT.html#jit_alu32_thumb_mem_template_jit">jit_alu32_thumb_mem_template_jit</a></span> <span class="id"><a href="bpf.jit.ThumbInsOp.html#STR_I_OP">STR_I_OP</a></span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#int_of_breg">int_of_breg</a></span> <span class="id">a</span>) (<span class="id"><a href="bpf.jit.Arm32Reg.html#int_of_ireg">int_of_ireg</a></span> <span class="id"><a href="https://compcert.org/doc/html/compcert.arm.AsmSyntax.html#IR12">IR12</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.mul">Int.mul</a></span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#int_of_breg">int_of_breg</a></span> <span class="id">a</span>) (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 4))] ++ <span class="id">tl</span> = <span class="id">bl</span>)<br/>
&nbsp;&nbsp;(<span class="id">Heq_a_true</span> : <span class="id"><a href="bpf.jit.ListSetRefinement.html#eval_listset_regmap">eval_listset_regmap</a></span> <span class="id">a</span> <span class="id">lr_st</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_store_refine">jit_alu32_thumb_store_refine</a></span> <span class="id">lr_st</span> = <span class="id">bl</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</div>
<div class="proofscript" id="proof16">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_store_refine">jit_alu32_thumb_store_refine</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#breg_eq">breg_eq</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R0">R0</a></span> <span class="id">a</span>) <span class="kwd">as</span> [<span class="id">Hr0_eq</span> | <span class="id">Hr0_neq</span>].<br/>
&nbsp;&nbsp;{ <span class="tactic">subst</span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_alu32_thumb_upd_store_reset_same">jit_alu32_thumb_upd_store_reset_same</a></span> <span class="kwd">in</span> <span class="id">Htl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 10 (<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_alu32_thumb_upd_store_reset_other">jit_alu32_thumb_upd_store_reset_other</a></span> <span class="kwd">in</span> <span class="id">Htl</span>; [| <span class="tactic">intro</span> <span class="id">HF</span>; <span class="tactic">inversion</span> <span class="id">HF</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_l">app_nil_l</a></span> <span class="kwd">in</span> <span class="id">Htl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Htl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#my_app_tail">my_app_tail</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_upd_store">jit_alu32_thumb_upd_store</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heq_a_true</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#breg_eq">breg_eq</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R1">R1</a></span> <span class="id">a</span>) <span class="kwd">as</span> [<span class="id">Hr1_eq</span> | <span class="id">Hr1_neq</span>].<br/>
&nbsp;&nbsp;{ <span class="tactic">subst</span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_alu32_thumb_upd_store_reset_same">jit_alu32_thumb_upd_store_reset_same</a></span> <span class="kwd">in</span> <span class="id">Htl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 10 (<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_alu32_thumb_upd_store_reset_other">jit_alu32_thumb_upd_store_reset_other</a></span> <span class="kwd">in</span> <span class="id">Htl</span>; [| <span class="tactic">intro</span> <span class="id">HF</span>; <span class="tactic">inversion</span> <span class="id">HF</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R0">R0</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> ! <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_l">app_nil_l</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Htl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#my_app_tail">my_app_tail</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_upd_store">jit_alu32_thumb_upd_store</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heq_a_true</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#breg_eq">breg_eq</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R2">R2</a></span> <span class="id">a</span>) <span class="kwd">as</span> [<span class="id">Hr2_eq</span> | <span class="id">Hr2_neq</span>].<br/>
&nbsp;&nbsp;{ <span class="tactic">subst</span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_alu32_thumb_upd_store_reset_same">jit_alu32_thumb_upd_store_reset_same</a></span> <span class="kwd">in</span> <span class="id">Htl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 10 (<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_alu32_thumb_upd_store_reset_other">jit_alu32_thumb_upd_store_reset_other</a></span> <span class="kwd">in</span> <span class="id">Htl</span>; [| <span class="tactic">intro</span> <span class="id">HF</span>; <span class="tactic">inversion</span> <span class="id">HF</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R0">R0</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R1">R1</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> ! <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_l">app_nil_l</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Htl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#my_app_tail">my_app_tail</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_upd_store">jit_alu32_thumb_upd_store</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heq_a_true</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#breg_eq">breg_eq</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R3">R3</a></span> <span class="id">a</span>) <span class="kwd">as</span> [<span class="id">Hr3_eq</span> | <span class="id">Hr3_neq</span>].<br/>
&nbsp;&nbsp;{ <span class="tactic">subst</span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_alu32_thumb_upd_store_reset_same">jit_alu32_thumb_upd_store_reset_same</a></span> <span class="kwd">in</span> <span class="id">Htl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 10 (<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_alu32_thumb_upd_store_reset_other">jit_alu32_thumb_upd_store_reset_other</a></span> <span class="kwd">in</span> <span class="id">Htl</span>; [| <span class="tactic">intro</span> <span class="id">HF</span>; <span class="tactic">inversion</span> <span class="id">HF</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R0">R0</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R1">R1</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R2">R2</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> ! <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_l">app_nil_l</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Htl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#my_app_tail">my_app_tail</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_upd_store">jit_alu32_thumb_upd_store</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heq_a_true</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#breg_eq">breg_eq</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R4">R4</a></span> <span class="id">a</span>) <span class="kwd">as</span> [<span class="id">Hr4_eq</span> | <span class="id">Hr4_neq</span>].<br/>
&nbsp;&nbsp;{ <span class="tactic">subst</span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_alu32_thumb_upd_store_reset_same">jit_alu32_thumb_upd_store_reset_same</a></span> <span class="kwd">in</span> <span class="id">Htl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 10 (<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_alu32_thumb_upd_store_reset_other">jit_alu32_thumb_upd_store_reset_other</a></span> <span class="kwd">in</span> <span class="id">Htl</span>; [| <span class="tactic">intro</span> <span class="id">HF</span>; <span class="tactic">inversion</span> <span class="id">HF</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R0">R0</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R1">R1</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R2">R2</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R3">R3</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> ! <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_l">app_nil_l</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Htl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#my_app_tail">my_app_tail</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_upd_store">jit_alu32_thumb_upd_store</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heq_a_true</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#breg_eq">breg_eq</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R5">R5</a></span> <span class="id">a</span>) <span class="kwd">as</span> [<span class="id">Hr5_eq</span> | <span class="id">Hr5_neq</span>].<br/>
&nbsp;&nbsp;{ <span class="tactic">subst</span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_alu32_thumb_upd_store_reset_same">jit_alu32_thumb_upd_store_reset_same</a></span> <span class="kwd">in</span> <span class="id">Htl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 10 (<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_alu32_thumb_upd_store_reset_other">jit_alu32_thumb_upd_store_reset_other</a></span> <span class="kwd">in</span> <span class="id">Htl</span>; [| <span class="tactic">intro</span> <span class="id">HF</span>; <span class="tactic">inversion</span> <span class="id">HF</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R0">R0</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R1">R1</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R2">R2</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R3">R3</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R4">R4</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> ! <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_l">app_nil_l</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Htl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#my_app_tail">my_app_tail</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_upd_store">jit_alu32_thumb_upd_store</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heq_a_true</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#breg_eq">breg_eq</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R6">R6</a></span> <span class="id">a</span>) <span class="kwd">as</span> [<span class="id">Hr6_eq</span> | <span class="id">Hr6_neq</span>].<br/>
&nbsp;&nbsp;{ <span class="tactic">subst</span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_alu32_thumb_upd_store_reset_same">jit_alu32_thumb_upd_store_reset_same</a></span> <span class="kwd">in</span> <span class="id">Htl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 10 (<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_alu32_thumb_upd_store_reset_other">jit_alu32_thumb_upd_store_reset_other</a></span> <span class="kwd">in</span> <span class="id">Htl</span>; [| <span class="tactic">intro</span> <span class="id">HF</span>; <span class="tactic">inversion</span> <span class="id">HF</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R0">R0</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R1">R1</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R2">R2</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R3">R3</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R4">R4</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R5">R5</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> ! <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_l">app_nil_l</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Htl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#my_app_tail">my_app_tail</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_upd_store">jit_alu32_thumb_upd_store</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heq_a_true</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#breg_eq">breg_eq</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R7">R7</a></span> <span class="id">a</span>) <span class="kwd">as</span> [<span class="id">Hr7_eq</span> | <span class="id">Hr7_neq</span>].<br/>
&nbsp;&nbsp;{ <span class="tactic">subst</span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_alu32_thumb_upd_store_reset_same">jit_alu32_thumb_upd_store_reset_same</a></span> <span class="kwd">in</span> <span class="id">Htl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 10 (<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_alu32_thumb_upd_store_reset_other">jit_alu32_thumb_upd_store_reset_other</a></span> <span class="kwd">in</span> <span class="id">Htl</span>; [| <span class="tactic">intro</span> <span class="id">HF</span>; <span class="tactic">inversion</span> <span class="id">HF</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R0">R0</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R1">R1</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R2">R2</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R3">R3</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R4">R4</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R5">R5</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R6">R6</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> ! <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_l">app_nil_l</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Htl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#my_app_tail">my_app_tail</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_upd_store">jit_alu32_thumb_upd_store</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heq_a_true</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#breg_eq">breg_eq</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R8">R8</a></span> <span class="id">a</span>) <span class="kwd">as</span> [<span class="id">Hr8_eq</span> | <span class="id">Hr8_neq</span>].<br/>
&nbsp;&nbsp;{ <span class="tactic">subst</span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_alu32_thumb_upd_store_reset_same">jit_alu32_thumb_upd_store_reset_same</a></span> <span class="kwd">in</span> <span class="id">Htl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 10 (<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_alu32_thumb_upd_store_reset_other">jit_alu32_thumb_upd_store_reset_other</a></span> <span class="kwd">in</span> <span class="id">Htl</span>; [| <span class="tactic">intro</span> <span class="id">HF</span>; <span class="tactic">inversion</span> <span class="id">HF</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R0">R0</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R1">R1</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R2">R2</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R3">R3</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R4">R4</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R5">R5</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R6">R6</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R7">R7</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> ! <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_l">app_nil_l</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Htl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#my_app_tail">my_app_tail</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_upd_store">jit_alu32_thumb_upd_store</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heq_a_true</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#breg_eq">breg_eq</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R9">R9</a></span> <span class="id">a</span>) <span class="kwd">as</span> [<span class="id">Hr9_eq</span> | <span class="id">Hr9_neq</span>].<br/>
&nbsp;&nbsp;{ <span class="tactic">subst</span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_alu32_thumb_upd_store_reset_same">jit_alu32_thumb_upd_store_reset_same</a></span> <span class="kwd">in</span> <span class="id">Htl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 10 (<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_alu32_thumb_upd_store_reset_other">jit_alu32_thumb_upd_store_reset_other</a></span> <span class="kwd">in</span> <span class="id">Htl</span>; [| <span class="tactic">intro</span> <span class="id">HF</span>; <span class="tactic">inversion</span> <span class="id">HF</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R0">R0</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R1">R1</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R2">R2</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R3">R3</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R4">R4</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R5">R5</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R6">R6</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R7">R7</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R8">R8</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> ! <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_l">app_nil_l</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Htl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#my_app_tail">my_app_tail</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_upd_store">jit_alu32_thumb_upd_store</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heq_a_true</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#breg_eq">breg_eq</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R10">R10</a></span> <span class="id">a</span>) <span class="kwd">as</span> [<span class="id">Hr10_eq</span> | <span class="id">Hr10_neq</span>].<br/>
&nbsp;&nbsp;{ <span class="tactic">subst</span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_alu32_thumb_upd_store_reset_same">jit_alu32_thumb_upd_store_reset_same</a></span> <span class="kwd">in</span> <span class="id">Htl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 10 (<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_alu32_thumb_upd_store_reset_other">jit_alu32_thumb_upd_store_reset_other</a></span> <span class="kwd">in</span> <span class="id">Htl</span>; [| <span class="tactic">intro</span> <span class="id">HF</span>; <span class="tactic">inversion</span> <span class="id">HF</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R0">R0</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R1">R1</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R2">R2</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R3">R3</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R4">R4</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R5">R5</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R6">R6</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R7">R7</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R8">R8</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_store_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R9">R9</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> ! <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_l">app_nil_l</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Htl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> ! <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_r">app_nil_r</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_upd_store">jit_alu32_thumb_upd_store</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heq_a_true</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<span class="id">exfalso</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span>;<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: ?<span class="id">X</span> &lt;&gt; ?<span class="id">X</span> |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H</span>; <span class="tactic">reflexivity</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="jit_alu32_thumb_store_refine_eq">jit_alu32_thumb_store_refine_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">st_set</span> <span class="id">lr_st</span> <span class="id">bl</span><br/>
&nbsp;&nbsp;(<span class="id">HNoDup</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> <span class="id">st_set</span>)<br/>
&nbsp;&nbsp;(<span class="id">HSort</span>: <span class="id"><a href="bpf.jit.ListSetSort.html#sort">sort</a></span> <span class="id">st_set</span>)<br/>
&nbsp;&nbsp;(<span class="id">Hst</span>: <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#eq_set_map">eq_set_map</a></span> <span class="id">st_set</span> <span class="id">lr_st</span>)<br/>
&nbsp;&nbsp;(<span class="id">Hjit</span>: <span class="id"><a href="bpf.jit.ThumbJIT.html#jit_alu32_thumb_store">jit_alu32_thumb_store</a></span> <span class="id">st_set</span> = <span class="id">bl</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_store_refine">jit_alu32_thumb_store_refine</a></span> <span class="id">lr_st</span> = <span class="id">bl</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</div>
<div class="proofscript" id="proof17">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">st_set</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#eq_set_map">eq_set_map</a></span> <span class="kwd">in</span> <span class="id">Hst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">bl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_store_refine">jit_alu32_thumb_store_refine</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Heq</span>: <span class="kwd">forall</span> <span class="id">r</span> : <span class="id"><a href="bpf.rbpf32.TSSyntax.html#breg">breg</a></span>, <span class="id"><a href="bpf.jit.ListSetRefinement.html#eval_listset_regmap">eval_listset_regmap</a></span> <span class="id">r</span> <span class="id">lr_st</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">Hst</span> <span class="id">r</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">Hst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#neg_false">neg_false</a></span> <span class="kwd">in</span> <span class="id">Hst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#not_true_is_false">Bool.not_true_is_false</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_upd_store">jit_alu32_thumb_upd_store</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id">context</span>[<span class="kwd">if</span> <span class="id"><a href="bpf.jit.ListSetRefinement.html#eval_listset_regmap">eval_listset_regmap</a></span> ?<span class="id">X</span> <span class="id">_</span> <span class="kwd">then</span> <span class="id">_</span> <span class="kwd">else</span> <span class="id">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">Heq</span> <span class="id">X</span>) <span class="kwd">as</span> <span class="id">Hr0</span>; <span class="tactic">rewrite</span> <span class="id">Hr0</span>; <span class="tactic">clear</span> <span class="id">Hr0</span>; <span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_l">app_nil_l</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Heq_a_true</span>: <span class="id"><a href="bpf.jit.ListSetRefinement.html#eval_listset_regmap">eval_listset_regmap</a></span> <span class="id">a</span> <span class="id">lr_st</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> - <span class="id">Hst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#eq_set_map">eq_set_map</a></span> <span class="kwd">in</span> <span class="id">Hst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Hst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">left</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Hlt_a_false</span>: <span class="kwd">forall</span> <span class="id">r</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.leb">Z.leb</a></span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#z_of_breg">z_of_breg</a></span> <span class="id">a</span>) (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#z_of_breg">z_of_breg</a></span> <span class="id">r</span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="bpf.jit.ListSetRefinement.html#eval_listset_regmap">eval_listset_regmap</a></span> <span class="id">r</span> <span class="id">lr_st</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">r</span> <span class="id">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.leb_gt">Z.leb_gt</a></span> <span class="kwd">in</span> <span class="id">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> - <span class="id">HNoDup</span> <span class="id">HSort</span> <span class="id">Hst</span> <span class="id">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#eq_set_map">eq_set_map</a></span> <span class="kwd">in</span> <span class="id">Hst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">Hst</span> <span class="id">r</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#not_iff_compat">not_iff_compat</a></span> <span class="kwd">in</span> <span class="id">Hst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#not_true_is_false">Bool.not_true_is_false</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Hst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">HF</span> <span class="kwd">as</span> [<span class="id">HF</span> | <span class="id">HF</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">subst</span> <span class="id">a</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lt_irrefl">Z.lt_irrefl</a></span> <span class="kwd">in</span> <span class="id">Hle</span>. <span class="tactic">auto</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="bpf.jit.ListSetSort.html#isSort_aux_not_in">isSort_aux_not_in</a></span> <span class="kwd">in</span> <span class="id">Hle</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_alu32_thumb_store_refine_reset">jit_alu32_thumb_store_refine_reset</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHst_set</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup_cons_iff">NoDup_cons_iff</a></span> <span class="kwd">in</span> <span class="id">HNoDup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">HNoDup</span> <span class="kwd">as</span> (<span class="id">_</span> &amp; <span class="id">Heq</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">clear</span> - <span class="id">HSort</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ListSetSort.html#sort">sort</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">HSort</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">clear</span> - <span class="id">HNoDup</span> <span class="id">Hst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#eq_set_map">eq_set_map</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">Hst</span> <span class="id">r</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#breg_eq">breg_eq</a></span> <span class="id">r</span> <span class="id">a</span>) <span class="kwd">as</span> [<span class="id">Heq</span> | <span class="id">Hneq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">subst</span> <span class="id">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intro</span> <span class="id">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup_cons_iff">NoDup_cons_iff</a></span> <span class="kwd">in</span> <span class="id">HNoDup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">HNoDup</span> <span class="kwd">as</span> (<span class="id">Hneq</span> &amp; <span class="id">Heq</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ListSetRefinement.html#eval_listset_regmap_reset_listset_regmap_same">eval_listset_regmap_reset_listset_regmap_same</a></span> <span class="kwd">in</span> <span class="id">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">split</span>; <span class="tactic">intro</span> <span class="id">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ListSetRefinement.html#eval_listset_regmap_reset_listset_regmap_other">eval_listset_regmap_reset_listset_regmap_other</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Hst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">right</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ListSetRefinement.html#eval_listset_regmap_reset_listset_regmap_other">eval_listset_regmap_reset_listset_regmap_other</a></span> <span class="kwd">in</span> <span class="id">HF</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Hst</span> <span class="kwd">in</span> <span class="id">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">HF</span> <span class="kwd">as</span> [<span class="id">Heq</span> | <span class="id">HF</span>]; [<span class="id">exfalso</span>; <span class="tactic">apply</span> <span class="id">Hneq</span>; <span class="tactic">auto</span> | <span class="tactic">auto</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="jit_alu32_thumb_upd_reset_reset_same">jit_alu32_thumb_upd_reset_reset_same</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">r</span> <span class="id">lr_st</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_upd_reset">jit_alu32_thumb_upd_reset</a></span> <span class="id">r</span> (<span class="id"><a href="bpf.jit.ListSetRefinement.html#reset_listset_regmap">reset_listset_regmap</a></span> <span class="id">r</span> <span class="id">lr_st</span>) = [].<br/>
<div class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</div>
<div class="proofscript" id="proof18">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_upd_reset">jit_alu32_thumb_upd_reset</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ListSetRefinement.html#eval_listset_regmap_reset_listset_regmap_same">eval_listset_regmap_reset_listset_regmap_same</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="jit_alu32_thumb_upd_reset_reset_other">jit_alu32_thumb_upd_reset_reset_other</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">r</span> <span class="id">r</span>' <span class="id">lr_st</span>,<br/>
&nbsp;&nbsp;<span class="id">r</span> &lt;&gt; <span class="id">r</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_upd_reset">jit_alu32_thumb_upd_reset</a></span> <span class="id">r</span> (<span class="id"><a href="bpf.jit.ListSetRefinement.html#reset_listset_regmap">reset_listset_regmap</a></span> <span class="id">r</span>' <span class="id">lr_st</span>) = <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_upd_reset">jit_alu32_thumb_upd_reset</a></span> <span class="id">r</span> <span class="id">lr_st</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</div>
<div class="proofscript" id="proof19">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_upd_reset">jit_alu32_thumb_upd_reset</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ListSetRefinement.html#eval_listset_regmap_reset_listset_regmap_other">eval_listset_regmap_reset_listset_regmap_other</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Ltac</span> <span class="id">list_reset_solver</span> <span class="id">X</span> <span class="id">lr_st</span> <span class="id">H</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Heq</span>: <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_upd_reset">jit_alu32_thumb_upd_reset</a></span> <span class="id">X</span> <span class="id">lr_st</span> = []) <span class="tactic">by</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_upd_reset">jit_alu32_thumb_upd_reset</a></span>; <span class="tactic">rewrite</span> <span class="id">H</span>; <span class="tactic">auto</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heq</span> <span class="kwd">in</span> *; <span class="tactic">clear</span> <span class="id">Heq</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="jit_alu32_thumb_reset_refine1_reset">jit_alu32_thumb_reset_refine1_reset</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">lr_st</span> <span class="id">tl</span> <span class="id">bl</span><br/>
&nbsp;&nbsp;(<span class="id">Hlt_a_false</span> : <span class="kwd">forall</span> <span class="id">r</span> : <span class="id"><a href="bpf.rbpf32.TSSyntax.html#breg">breg</a></span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="bpf.rbpf32.TSSyntax.html#z_of_breg">z_of_breg</a></span> <span class="id">a</span> &lt;=? <span class="id"><a href="bpf.rbpf32.TSSyntax.html#z_of_breg">z_of_breg</a></span> <span class="id">r</span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt; <span class="id"><a href="bpf.jit.ListSetRefinement.html#eval_listset_regmap">eval_listset_regmap</a></span> <span class="id">r</span> <span class="id">lr_st</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>)<br/>
&nbsp;&nbsp;(<span class="id">Htl</span>: <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_reset1_refine">jit_alu32_thumb_reset1_refine</a></span> (<span class="id"><a href="bpf.jit.ListSetRefinement.html#reset_listset_regmap">reset_listset_regmap</a></span> <span class="id">a</span> <span class="id">lr_st</span>) = <span class="id">tl</span>)<br/>
&nbsp;&nbsp;(<span class="id">Hjit</span> : (<span class="kwd">if</span> <span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 3) (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#int_of_breg">int_of_breg</a></span> <span class="id">a</span>) &amp;&amp; <span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#int_of_breg">int_of_breg</a></span> <span class="id">a</span>) (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 11)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id"><a href="bpf.jit.ThumbJIT.html#jit_alu32_thumb_mem_template_jit">jit_alu32_thumb_mem_template_jit</a></span> <span class="id"><a href="bpf.jit.ThumbInsOp.html#LDR_I_OP">LDR_I_OP</a></span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#int_of_breg">int_of_breg</a></span> <span class="id">a</span>) (<span class="id"><a href="bpf.jit.Arm32Reg.html#int_of_ireg">int_of_ireg</a></span> <span class="id"><a href="https://compcert.org/doc/html/compcert.arm.AsmSyntax.html#IR13">IR13</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.mul">Int.mul</a></span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#int_of_breg">int_of_breg</a></span> <span class="id">a</span>) (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 4))]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> []) ++ <span class="id">tl</span> = <span class="id">bl</span>)<br/>
&nbsp;&nbsp;(<span class="id">Heq_a_true</span> : <span class="id"><a href="bpf.jit.ListSetRefinement.html#eval_listset_regmap">eval_listset_regmap</a></span> <span class="id">a</span> <span class="id">lr_st</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_reset1_refine">jit_alu32_thumb_reset1_refine</a></span> <span class="id">lr_st</span> = <span class="id">bl</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</div>
<div class="proofscript" id="proof20">
<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_reset1_refine">jit_alu32_thumb_reset1_refine</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#breg_eq">breg_eq</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R0">R0</a></span> <span class="id">a</span>) <span class="kwd">as</span> [<span class="id">Hr0_eq</span> | <span class="id">Hr0_neq</span>].<br/>
&nbsp;&nbsp;{ <span class="tactic">subst</span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">change</span> (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 3) (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#int_of_breg">int_of_breg</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R0">R0</a></span>) &amp;&amp; <span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#int_of_breg">int_of_breg</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R0">R0</a></span>) (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 11)) <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="kwd">in</span> <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">tl</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#breg_eq">breg_eq</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R1">R1</a></span> <span class="id">a</span>) <span class="kwd">as</span> [<span class="id">Hr1_eq</span> | <span class="id">Hr1_neq</span>].<br/>
&nbsp;&nbsp;{ <span class="tactic">subst</span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">change</span> (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 3) (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#int_of_breg">int_of_breg</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R1">R1</a></span>) &amp;&amp; <span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#int_of_breg">int_of_breg</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R1">R1</a></span>) (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 11)) <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="kwd">in</span> <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">tl</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#breg_eq">breg_eq</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R2">R2</a></span> <span class="id">a</span>) <span class="kwd">as</span> [<span class="id">Hr2_eq</span> | <span class="id">Hr2_neq</span>].<br/>
&nbsp;&nbsp;{ <span class="tactic">subst</span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">change</span> (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 3) (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#int_of_breg">int_of_breg</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R2">R2</a></span>) &amp;&amp; <span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#int_of_breg">int_of_breg</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R2">R2</a></span>) (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 11)) <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="kwd">in</span> <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">tl</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#breg_eq">breg_eq</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R3">R3</a></span> <span class="id">a</span>) <span class="kwd">as</span> [<span class="id">Hr3_eq</span> | <span class="id">Hr3_neq</span>].<br/>
&nbsp;&nbsp;{ <span class="tactic">subst</span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">change</span> (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 3) (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#int_of_breg">int_of_breg</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R3">R3</a></span>) &amp;&amp; <span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#int_of_breg">int_of_breg</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R3">R3</a></span>) (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 11)) <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="kwd">in</span> <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">tl</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#breg_eq">breg_eq</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R4">R4</a></span> <span class="id">a</span>) <span class="kwd">as</span> [<span class="id">Hr4_eq</span> | <span class="id">Hr4_neq</span>].<br/>
&nbsp;&nbsp;{ <span class="tactic">subst</span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">change</span> (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 3) (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#int_of_breg">int_of_breg</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R4">R4</a></span>) &amp;&amp; <span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#int_of_breg">int_of_breg</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R4">R4</a></span>) (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 11)) <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="kwd">in</span> <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_alu32_thumb_upd_reset_reset_same">jit_alu32_thumb_upd_reset_reset_same</a></span> <span class="kwd">in</span> <span class="id">Htl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 6 (<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_alu32_thumb_upd_reset_reset_other">jit_alu32_thumb_upd_reset_reset_other</a></span> <span class="kwd">in</span> <span class="id">Htl</span>; [| <span class="tactic">intro</span> <span class="id">HF</span>; <span class="tactic">inversion</span> <span class="id">HF</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> ! <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_l">app_nil_l</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Htl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#my_app_hd">my_app_hd</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#my_app_tail">my_app_tail</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_upd_reset">jit_alu32_thumb_upd_reset</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heq_a_true</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#breg_eq">breg_eq</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R5">R5</a></span> <span class="id">a</span>) <span class="kwd">as</span> [<span class="id">Hr5_eq</span> | <span class="id">Hr5_neq</span>].<br/>
&nbsp;&nbsp;{ <span class="tactic">subst</span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">change</span> (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 3) (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#int_of_breg">int_of_breg</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R5">R5</a></span>) &amp;&amp; <span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#int_of_breg">int_of_breg</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R5">R5</a></span>) (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 11)) <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="kwd">in</span> <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_alu32_thumb_upd_reset_reset_same">jit_alu32_thumb_upd_reset_reset_same</a></span> <span class="kwd">in</span> <span class="id">Htl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 6 (<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_alu32_thumb_upd_reset_reset_other">jit_alu32_thumb_upd_reset_reset_other</a></span> <span class="kwd">in</span> <span class="id">Htl</span>; [| <span class="tactic">intro</span> <span class="id">HF</span>; <span class="tactic">inversion</span> <span class="id">HF</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_reset_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R4">R4</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> ! <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_l">app_nil_l</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Htl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#my_app_hd">my_app_hd</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#my_app_tail">my_app_tail</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_upd_reset">jit_alu32_thumb_upd_reset</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heq_a_true</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#breg_eq">breg_eq</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R6">R6</a></span> <span class="id">a</span>) <span class="kwd">as</span> [<span class="id">Hr6_eq</span> | <span class="id">Hr6_neq</span>].<br/>
&nbsp;&nbsp;{ <span class="tactic">subst</span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">change</span> (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 3) (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#int_of_breg">int_of_breg</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R6">R6</a></span>) &amp;&amp; <span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#int_of_breg">int_of_breg</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R6">R6</a></span>) (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 11)) <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="kwd">in</span> <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_alu32_thumb_upd_reset_reset_same">jit_alu32_thumb_upd_reset_reset_same</a></span> <span class="kwd">in</span> <span class="id">Htl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 6 (<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_alu32_thumb_upd_reset_reset_other">jit_alu32_thumb_upd_reset_reset_other</a></span> <span class="kwd">in</span> <span class="id">Htl</span>; [| <span class="tactic">intro</span> <span class="id">HF</span>; <span class="tactic">inversion</span> <span class="id">HF</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_reset_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R4">R4</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_reset_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R5">R5</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> ! <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_l">app_nil_l</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Htl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#my_app_hd">my_app_hd</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#my_app_tail">my_app_tail</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_upd_reset">jit_alu32_thumb_upd_reset</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heq_a_true</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#breg_eq">breg_eq</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R7">R7</a></span> <span class="id">a</span>) <span class="kwd">as</span> [<span class="id">Hr7_eq</span> | <span class="id">Hr7_neq</span>].<br/>
&nbsp;&nbsp;{ <span class="tactic">subst</span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">change</span> (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 3) (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#int_of_breg">int_of_breg</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R7">R7</a></span>) &amp;&amp; <span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#int_of_breg">int_of_breg</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R7">R7</a></span>) (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 11)) <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="kwd">in</span> <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_alu32_thumb_upd_reset_reset_same">jit_alu32_thumb_upd_reset_reset_same</a></span> <span class="kwd">in</span> <span class="id">Htl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 6 (<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_alu32_thumb_upd_reset_reset_other">jit_alu32_thumb_upd_reset_reset_other</a></span> <span class="kwd">in</span> <span class="id">Htl</span>; [| <span class="tactic">intro</span> <span class="id">HF</span>; <span class="tactic">inversion</span> <span class="id">HF</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_reset_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R4">R4</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_reset_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R5">R5</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_reset_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R6">R6</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> ! <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_l">app_nil_l</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Htl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#my_app_hd">my_app_hd</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#my_app_tail">my_app_tail</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_upd_reset">jit_alu32_thumb_upd_reset</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heq_a_true</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#breg_eq">breg_eq</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R8">R8</a></span> <span class="id">a</span>) <span class="kwd">as</span> [<span class="id">Hr8_eq</span> | <span class="id">Hr8_neq</span>].<br/>
&nbsp;&nbsp;{ <span class="tactic">subst</span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">change</span> (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 3) (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#int_of_breg">int_of_breg</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R8">R8</a></span>) &amp;&amp; <span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#int_of_breg">int_of_breg</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R8">R8</a></span>) (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 11)) <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="kwd">in</span> <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_alu32_thumb_upd_reset_reset_same">jit_alu32_thumb_upd_reset_reset_same</a></span> <span class="kwd">in</span> <span class="id">Htl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 6 (<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_alu32_thumb_upd_reset_reset_other">jit_alu32_thumb_upd_reset_reset_other</a></span> <span class="kwd">in</span> <span class="id">Htl</span>; [| <span class="tactic">intro</span> <span class="id">HF</span>; <span class="tactic">inversion</span> <span class="id">HF</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_reset_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R4">R4</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_reset_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R5">R5</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_reset_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R6">R6</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_reset_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R7">R7</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> ! <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_l">app_nil_l</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Htl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#my_app_hd">my_app_hd</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#my_app_tail">my_app_tail</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_upd_reset">jit_alu32_thumb_upd_reset</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heq_a_true</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#breg_eq">breg_eq</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R9">R9</a></span> <span class="id">a</span>) <span class="kwd">as</span> [<span class="id">Hr9_eq</span> | <span class="id">Hr9_neq</span>].<br/>
&nbsp;&nbsp;{ <span class="tactic">subst</span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">change</span> (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 3) (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#int_of_breg">int_of_breg</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R9">R9</a></span>) &amp;&amp; <span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#int_of_breg">int_of_breg</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R9">R9</a></span>) (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 11)) <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="kwd">in</span> <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_alu32_thumb_upd_reset_reset_same">jit_alu32_thumb_upd_reset_reset_same</a></span> <span class="kwd">in</span> <span class="id">Htl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 6 (<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_alu32_thumb_upd_reset_reset_other">jit_alu32_thumb_upd_reset_reset_other</a></span> <span class="kwd">in</span> <span class="id">Htl</span>; [| <span class="tactic">intro</span> <span class="id">HF</span>; <span class="tactic">inversion</span> <span class="id">HF</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_reset_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R4">R4</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_reset_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R5">R5</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_reset_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R6">R6</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_reset_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R7">R7</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_reset_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R8">R8</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> ! <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_l">app_nil_l</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Htl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#my_app_hd">my_app_hd</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#my_app_tail">my_app_tail</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_upd_reset">jit_alu32_thumb_upd_reset</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heq_a_true</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#breg_eq">breg_eq</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R10">R10</a></span> <span class="id">a</span>) <span class="kwd">as</span> [<span class="id">Hr10_eq</span> | <span class="id">Hr10_neq</span>].<br/>
&nbsp;&nbsp;{ <span class="tactic">subst</span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">change</span> (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 3) (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#int_of_breg">int_of_breg</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R10">R10</a></span>) &amp;&amp; <span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#int_of_breg">int_of_breg</a></span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R10">R10</a></span>) (<span class="id"><a href="https://compcert.org/doc/html/compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 11)) <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="kwd">in</span> <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_alu32_thumb_upd_reset_reset_same">jit_alu32_thumb_upd_reset_reset_same</a></span> <span class="kwd">in</span> <span class="id">Htl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 6 (<span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_alu32_thumb_upd_reset_reset_other">jit_alu32_thumb_upd_reset_reset_other</a></span> <span class="kwd">in</span> <span class="id">Htl</span>; [| <span class="tactic">intro</span> <span class="id">HF</span>; <span class="tactic">inversion</span> <span class="id">HF</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_reset_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R4">R4</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_reset_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R5">R5</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_reset_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R6">R6</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_reset_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R7">R7</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_reset_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R8">R8</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">list_reset_solver</span> <span class="id"><a href="bpf.rbpf32.TSSyntax.html#R9">R9</a></span> <span class="id">lr_st</span> <span class="id">Hlt_a_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> ! <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_l">app_nil_l</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Htl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_upd_reset">jit_alu32_thumb_upd_reset</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heq_a_true</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<span class="id">exfalso</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span>;<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: ?<span class="id">X</span> &lt;&gt; ?<span class="id">X</span> |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H</span>; <span class="tactic">reflexivity</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="jit_alu32_thumb_reset1_refine_eq">jit_alu32_thumb_reset1_refine_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ld_set</span> <span class="id">lr_st</span> <span class="id">bl</span><br/>
&nbsp;&nbsp;(<span class="id">HNoDup</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> <span class="id">ld_set</span>)<br/>
&nbsp;&nbsp;(<span class="id">HSort</span>: <span class="id"><a href="bpf.jit.ListSetSort.html#sort">sort</a></span> <span class="id">ld_set</span>)<br/>
&nbsp;&nbsp;(<span class="id">Hst</span>: <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#eq_set_map">eq_set_map</a></span> <span class="id">ld_set</span> <span class="id">lr_st</span>)<br/>
&nbsp;&nbsp;(<span class="id">Hjit</span>: <span class="id"><a href="bpf.jit.ThumbJIT.html#jit_alu32_thumb_reset1">jit_alu32_thumb_reset1</a></span> <span class="id">ld_set</span> = <span class="id">bl</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_reset1_refine">jit_alu32_thumb_reset1_refine</a></span> <span class="id">lr_st</span> = <span class="id">bl</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</div>
<div class="proofscript" id="proof21">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">ld_set</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#eq_set_map">eq_set_map</a></span> <span class="kwd">in</span> <span class="id">Hst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">bl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_reset1_refine">jit_alu32_thumb_reset1_refine</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Heq</span>: <span class="kwd">forall</span> <span class="id">r</span> : <span class="id"><a href="bpf.rbpf32.TSSyntax.html#breg">breg</a></span>, <span class="id"><a href="bpf.jit.ListSetRefinement.html#eval_listset_regmap">eval_listset_regmap</a></span> <span class="id">r</span> <span class="id">lr_st</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">Hst</span> <span class="id">r</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">Hst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#neg_false">neg_false</a></span> <span class="kwd">in</span> <span class="id">Hst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#not_true_is_false">Bool.not_true_is_false</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_upd_reset">jit_alu32_thumb_upd_reset</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id">context</span>[<span class="kwd">if</span> <span class="id"><a href="bpf.jit.ListSetRefinement.html#eval_listset_regmap">eval_listset_regmap</a></span> ?<span class="id">X</span> <span class="id">_</span> <span class="kwd">then</span> <span class="id">_</span> <span class="kwd">else</span> <span class="id">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">Heq</span> <span class="id">X</span>) <span class="kwd">as</span> <span class="id">Hr0</span>; <span class="tactic">rewrite</span> <span class="id">Hr0</span>; <span class="tactic">clear</span> <span class="id">Hr0</span>; <span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_l">app_nil_l</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Heq_a_true</span>: <span class="id"><a href="bpf.jit.ListSetRefinement.html#eval_listset_regmap">eval_listset_regmap</a></span> <span class="id">a</span> <span class="id">lr_st</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> - <span class="id">Hst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#eq_set_map">eq_set_map</a></span> <span class="kwd">in</span> <span class="id">Hst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Hst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">left</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Hlt_a_false</span>: <span class="kwd">forall</span> <span class="id">r</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.leb">Z.leb</a></span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#z_of_breg">z_of_breg</a></span> <span class="id">a</span>) (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#z_of_breg">z_of_breg</a></span> <span class="id">r</span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="bpf.jit.ListSetRefinement.html#eval_listset_regmap">eval_listset_regmap</a></span> <span class="id">r</span> <span class="id">lr_st</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">r</span> <span class="id">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.leb_gt">Z.leb_gt</a></span> <span class="kwd">in</span> <span class="id">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> - <span class="id">HNoDup</span> <span class="id">HSort</span> <span class="id">Hst</span> <span class="id">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#eq_set_map">eq_set_map</a></span> <span class="kwd">in</span> <span class="id">Hst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">Hst</span> <span class="id">r</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#not_iff_compat">not_iff_compat</a></span> <span class="kwd">in</span> <span class="id">Hst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#not_true_is_false">Bool.not_true_is_false</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Hst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">HF</span> <span class="kwd">as</span> [<span class="id">HF</span> | <span class="id">HF</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">subst</span> <span class="id">a</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lt_irrefl">Z.lt_irrefl</a></span> <span class="kwd">in</span> <span class="id">Hle</span>. <span class="tactic">auto</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="bpf.jit.ListSetSort.html#isSort_aux_not_in">isSort_aux_not_in</a></span> <span class="kwd">in</span> <span class="id">Hle</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_alu32_thumb_reset_refine1_reset">jit_alu32_thumb_reset_refine1_reset</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;<span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHld_set</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup_cons_iff">NoDup_cons_iff</a></span> <span class="kwd">in</span> <span class="id">HNoDup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">HNoDup</span> <span class="kwd">as</span> (<span class="id">_</span> &amp; <span class="id">Heq</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">clear</span> - <span class="id">HSort</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ListSetSort.html#sort">sort</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">HSort</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">clear</span> - <span class="id">HNoDup</span> <span class="id">Hst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#eq_set_map">eq_set_map</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">specialize</span> (<span class="id">Hst</span> <span class="id">r</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="bpf.rbpf32.TSSyntax.html#breg_eq">breg_eq</a></span> <span class="id">r</span> <span class="id">a</span>) <span class="kwd">as</span> [<span class="id">Heq</span> | <span class="id">Hneq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">subst</span> <span class="id">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intro</span> <span class="id">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup_cons_iff">NoDup_cons_iff</a></span> <span class="kwd">in</span> <span class="id">HNoDup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">HNoDup</span> <span class="kwd">as</span> (<span class="id">Hneq</span> &amp; <span class="id">Heq</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ListSetRefinement.html#eval_listset_regmap_reset_listset_regmap_same">eval_listset_regmap_reset_listset_regmap_same</a></span> <span class="kwd">in</span> <span class="id">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">split</span>; <span class="tactic">intro</span> <span class="id">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ListSetRefinement.html#eval_listset_regmap_reset_listset_regmap_other">eval_listset_regmap_reset_listset_regmap_other</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Hst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">right</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">rewrite</span> <span class="id"><a href="bpf.jit.ListSetRefinement.html#eval_listset_regmap_reset_listset_regmap_other">eval_listset_regmap_reset_listset_regmap_other</a></span> <span class="kwd">in</span> <span class="id">HF</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Hst</span> <span class="kwd">in</span> <span class="id">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">HF</span> <span class="kwd">as</span> [<span class="id">Heq</span> | <span class="id">HF</span>]; [<span class="id">exfalso</span>; <span class="tactic">apply</span> <span class="id">Hneq</span>; <span class="tactic">auto</span> | <span class="tactic">auto</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="jit_alu32_thumb_reset_refine_eq">jit_alu32_thumb_reset_refine_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ld_set</span> <span class="id">lr_st</span> <span class="id">bl</span><br/>
&nbsp;&nbsp;(<span class="id">HNoDup</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> <span class="id">ld_set</span>)<br/>
&nbsp;&nbsp;(<span class="id">HSort</span>: <span class="id"><a href="bpf.jit.ListSetSort.html#sort">sort</a></span> <span class="id">ld_set</span>)<br/>
&nbsp;&nbsp;(<span class="id">Hst</span>: <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#eq_set_map">eq_set_map</a></span> <span class="id">ld_set</span> <span class="id">lr_st</span>)<br/>
&nbsp;&nbsp;(<span class="id">Hjit</span>: <span class="id"><a href="bpf.jit.ThumbJIT.html#jit_alu32_thumb_reset">jit_alu32_thumb_reset</a></span> <span class="id">ld_set</span> = <span class="id">bl</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_reset_refine">jit_alu32_thumb_reset_refine</a></span> <span class="id">lr_st</span> = <span class="id">bl</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</div>
<div class="proofscript" id="proof22">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT.html#jit_alu32_thumb_reset">jit_alu32_thumb_reset</a></span>, <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_thumb_reset_refine">jit_alu32_thumb_reset_refine</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Hjit</span>.<br/>
&nbsp;&nbsp;<span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_alu32_thumb_reset1_refine_eq">jit_alu32_thumb_reset1_refine_eq</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="jit_alu32_aux_refine_eq">jit_alu32_aux_refine_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l</span> <span class="id">bl</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="bpf.jit.ThumbJIT.html#jit_alu32_aux">jit_alu32_aux</a></span> <span class="id">l</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">bl</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_aux_refine">jit_alu32_aux_refine</a></span> <span class="id">l</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">bl</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</div>
<div class="proofscript" id="proof23">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT.html#jit_alu32_aux">jit_alu32_aux</a></span>, <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_aux_refine">jit_alu32_aux_refine</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Heq1</span>: <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#eq_set_map">eq_set_map</a></span> [] <span class="id"><a href="bpf.jit.ListSetRefinement.html#init_listset_regmap">init_listset_regmap</a></span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#eq_set_map">eq_set_map</a></span>, <span class="id"><a href="bpf.jit.ListSetRefinement.html#init_listset_regmap">init_listset_regmap</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intro</span> <span class="id">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">inversion</span> <span class="id">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">r</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">HF</span>; <span class="tactic">inversion</span> <span class="id">HF</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="bpf.jit.ThumbJIT.html#jit_sequence">jit_sequence</a></span> <span class="kwd">as</span> [((<span class="id">cl</span> &amp; <span class="id">ld_set</span>) &amp; <span class="id">st_set</span>)|] <span class="id">eqn</span>: <span class="id">Hseq</span>.<br/>
&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_sequence_refine_eq">jit_sequence_refine_eq</a></span> <span class="kwd">in</span> <span class="id">Hseq</span>; <span class="tactic">eauto</span>; <span class="tactic">try</span> (<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup_nil">NoDup_nil</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hseq</span> <span class="kwd">as</span> (<span class="id">ldr1</span> &amp; <span class="id">lr2</span> &amp; <span class="id">Hseq_r</span> &amp; <span class="id">Heq_r1</span> &amp; <span class="id">Heq_r2</span> &amp; <span class="id">Hno1</span> &amp; <span class="id">Hno2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hseq_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">cl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="bpf.jit.ThumbJIT.html#jit_alu32_thumb_pc">jit_alu32_thumb_pc</a></span> <span class="kwd">as</span> [<span class="id">l_pc</span> | ]; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#eq_set_map_sort_list_same">eq_set_map_sort_list_same</a></span> <span class="kwd">in</span> <span class="id">Heq_r1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#eq_set_map_sort_list_same">eq_set_map_sort_list_same</a></span> <span class="kwd">in</span> <span class="id">Heq_r2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">injection</span> <span class="id">H</span> <span class="kwd">as</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">erewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_alu32_thumb_store_refine_eq">jit_alu32_thumb_store_refine_eq</a></span> <span class="kwd">with</span> (<span class="id">st_set</span> := <span class="id"><a href="bpf.jit.ListSetSort.html#sort_listset">sort_listset</a></span> <span class="id">st_set</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="bpf.jit.ListSetSort.html#NoDup_sort_listset">NoDup_sort_listset</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="bpf.jit.ListSetSort.html#sort_sort_listset">sort_sort_listset</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">erewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_alu32_thumb_reset_refine_eq">jit_alu32_thumb_reset_refine_eq</a></span> <span class="kwd">with</span> (<span class="id">ld_set</span> := <span class="id"><a href="bpf.jit.ListSetSort.html#sort_listset">sort_listset</a></span> <span class="id">ld_set</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="bpf.jit.ListSetSort.html#NoDup_sort_listset">NoDup_sort_listset</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="bpf.jit.ListSetSort.html#sort_sort_listset">sort_sort_listset</a></span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="jit_alu32_refine_eq">jit_alu32_refine_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l</span> <span class="id">bl</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="bpf.jit.ThumbJIT.html#jit_alu32">jit_alu32</a></span> <span class="id">l</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">bl</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_refine">jit_alu32_refine</a></span> <span class="id">l</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">bl</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</div>
<div class="proofscript" id="proof24">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="bpf.jit.ThumbJIT.html#jit_alu32">jit_alu32</a></span>, <span class="id"><a href="bpf.jit.ThumbJIT1.html#jit_alu32_refine">jit_alu32_refine</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="bpf.jit.ThumbJIT.html#jit_alu32_aux">jit_alu32_aux</a></span> <span class="kwd">as</span> [<span class="id">tl</span> | ] <span class="id">eqn</span>: <span class="id">Heq</span>; [| <span class="tactic">inversion</span> <span class="id">H</span>].<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="bpf.jit.ThumbJIT1proof.html#jit_alu32_aux_refine_eq">jit_alu32_aux_refine_eq</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</a></div>
</body>
</html>
